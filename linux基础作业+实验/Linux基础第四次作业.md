​                                                                   Linux基础第四次作业

第七章

 1.Shell程序就是放在一个文件中的一系列Linux命令和实用程序，在执行的时候，通过Linux系统一个接着一个地解释和执行每个命令，这和Windows系统下的批处理程序非常相似。

​    （1）．创建文件；

​    （2）.   设置可执行权限;

​       (3)  .    执行Shell程序;

​       (4)  .    使用bash命令执行程序;

2. （1）.bash [Shell程序文件名] 

   ​         使用这种方法的命令格式为：
            bash [Shell程序文件名]

   （2）.bash< [Shell程序名]
           使用这种方法的命令格式为：
           bash< [Shell程序名]

   （3）.用chmod命令使Shell程序成为可执
           行的文件然后运行。

3. HOME：用于保存用户宿主目录的完全路径名。
   PATH：默认命令搜索路径。
   TERM：终端的类型。
   UID：当前用户的识别号。
   PWD：当前工作目录的绝对路径名。
   PS1：用户平时的提示符。
   PS2：第一行没输完，等待第二行输入的提示符。

4. 条件判断语句

   (1)．if条件语句

   Shell程序中的条件分支是通过if条件语句来实现的，其一般格式有if-then语句和if-then-else语句两种。

   (2).   case条件语句

   case条件选择为用户提供了根据字符串或变量的值从多个选项中选择一项的方法，其语法格式如下所示：

​       case string in 

​       exp-1)
               若干个命令行1
       ；；
       exp-2)
               若干个命令行2
       ；；
       ……
       *)
                其他命令行
       esac

​        循环控制语句

​        (1).  for循环语句

​         for循环语句对一个变量的可能的值都执行一个命令序列。赋给变量的几个数值既可以在程序中以数值列表的  形式提供，也可以在程序以外以位置参数的形式提供。for循环的一般语法格式为：

for 变量名 [in数值列表]
do
若干个命令行
done

​       (2).  while循环语句

​         while语句是用命令的返回状态值来控制循环的。while循环的一般语法格式为：
         while
         若干个命令行1
         do
         若干个命令行2
         done

​       (3).  until循环语句

​         until语句是另一种循环结构，它和while语句相似，其语句格式如下：
         until
         若干个命令行1
         do
         若干个命令行2
         done

​        (4).  break和continue语句

​         有时需要基于某些准则退出循环或跳过循环步。shell提供两个命令实现此功能。
           （1）break
           （2）continue
        break和continue的最大区别在于，break跳出整个循环，而contiune则跳过当次循环的剩余部分
        并直接进入下一次循环。这两个的用法和C语言相同。

​        (5). Source命令

​              source命令用法：source FileName 

​              作用：在当前bash环境下读取并执行FileName中的命令。
              注：该命令通常用命令“.”来替代。
              如：source .bash_rc 与 . .bash_rc 是等效的。



第八章

1. 在Linux系统中主要有root用户、虚拟用户和普通用户这3类用户。

   root用户：root用户是Linux系统的内置用户，在系统中的权限最高，普通用户无法执行的操作，root用户都可以操作，所以也被称之为超级管理用户。在系统中的每个文件、目录和进程都归属于某一个用户，没有用户许可，除root用户外的其它普通用户无法进行操作。

   虚拟用户：这类用户也被称为伪用户或假用户，这类用户不具有登录系统的能力，但却是系统运行不可缺少的用户，比如bin，daemon，adm，ftp以及mail等用户账户，这类用户都是Linux系统的内置用户。

   普通用户：这类用户是由系统管理员创建，并且能登录Linux系统。只能操作自己目录内的文件，权限有限。

2. Linux系统下与用户账户 有关的配置文件/etc/passwd文件和/etc/shadow文件。

   /etc/passwd文件：/etc/passwd是系统识别用户的一个文件，Linux系统中所有的用户都记录在该文件中。任何用户都可以读取该文件内容，在/etc/passwd文件中，每一行表示的是一个用户账户信息，一行有7个段位，每个段位用“:”分隔。

   用户名：也称为登录名，在系统内用户名应该具有唯一性。

   口令：存放加密的口令。

   用户标识号：在系统内用一个整数标识用户ID号，每个用户的UID都是唯一的，root用户的UID是0，
   普通用户的UID默认从1000开始。

   组群标识号：在系统内用一个整数标识用户所属的组群的ID号，每个组群的GID都是唯一的。

   用户名全称：用户名描述，可以不设置。

   主目录：用户登录系统后首先进入的目录。

   登录Shell：用户使用的Shell类型，Fedora 17系统默认使用的Shell是bash。

   

   /etc/shadow文件：/etc/shadow文件是/etc/passwd文件的影子文件，这个文件并不是由/etc/passwd文件产生，这两个文件是对应互补的。/etc/shadow文件内容包括用户及被加密的口令及其他/etc/passwd不能包括的信息，比如用户账户的有效期限等。/etc/shadow文件的内容包括9个段位，每个段位之间用“:”分隔。

   用户名：这里的用户名和/etc/passwd中的用户名是相同的。

   加密口令：口令已经加密，如果有些用户在这里显示的是“!!”，则表示这个用户还没有设置口令，不能登录到系统。

   用户最后一次更改口令的日期：从1970年1月1日算起到最后一次修改口令的时间间隔（天数）。

   口令允许更换前的天数：如果设置为0，则禁用此功能。该字段是指用户可以更改口令的天数。

   口令需要更换的天数：如果设置为0，则禁用此功能。该字段是指用户必须更改口令的天数。

   口令更换前警告的天数：用户登录系统后，系统登录程序提醒用户口令将要过期。

   账户被取消激活前的天数：表示用户口令过期多少天后，系统会禁用此用户，也就是说系统会不
   让此用户登录，也不会提示用户过期，是完全禁用的。

   用户账户过期日期：指定用户账户禁用的天数（从1970年的1月1日开始到账户被禁用的天
   数），如果这个字段的值为空，账户永久可用。

   保留字段：目前为空，以备将来Linux系统发展时用。

   

3.  Linux系统下与组群账户有关的配置文件/etc/group和/etc/gshadow。

    /etc/group文件：/etc/group文件是用户组群的配置文件，内容包括用户和用户组群，并且能显示出用户是归属哪个用户组群或哪几个用户组群。

   组群名：用户组群名称，如组群名root。

   组群口令：存放加密的密码，在上面示例中我们看到的是一个x，
   其实口令已被映射到/etc/gshadow 文件中。

   组群标识号：在系统内用一个整数标识组群GID，每个组群的GID都
   是唯一的，默认普通组群的GID从1000开始，如root组
   群GID是0。

   组群成员：属于这个组群的成员，如root组群的成员有root用户。

​        

​      /etc/gshadow文件：/etc/gshadow文件是/etc/group的加密文件，比如用户组群管理口令就是存放在这个文  件中。这两个文件是对应互补的。/etc/gshadow文件中每个用户组群都有一条记录。一行有4个段位，每个段位之间用“:”分隔。

组群名：组群的名称。

组群口令：口令已经加密，如果有些组群在这里显示的是“!”，表示这个组群没有口令。上面示例中组群shanghai没有口令，组群beijing已设置口令。

组群管理者：组群的管理者，有权在该组群中添加、删除用户。

组群成员：属于该组群的用户成员列表，如有多个用户用“，”分隔。上面示例中beijing组群的成员是ou。





第九章

1. fdisk有m,p,a,n,e,p,t,,d,q,w子命令 

   m:显示所有在fdisk中使用的命令
   p:显示硬盘分区信息
   a:设置硬盘启动区
   n:创建新的分区
   e:创建扩展分区
   p:创建主分区
   t:更改分区文件系统
   d:删除硬盘分区
   q:退出fdisk，不保存硬盘分区设置
   w:保存硬盘分区设置并退出fdisk

2.  使用某个文件系统存放数据，一般要经过以下操作步骤。
   （1）使用fdisk命令在硬盘上创建分区。
   （2）使用mkfs命令在分区上创建文件系统。
   （3）使用mount命令挂载文件系统，或修
   改/etc/fstab文件使得开机自动挂
   载文件系统。
   （4）使用umount卸载文件系统

3.   通过设定权限可以限制或允许以下3种用户访问：文件的所有者（文件属主）、文件所有者所在组的同组用户（同组用户）、系统中的其他用户。在Linux系统中，每种用户都有对文件或目录的读取、写入和执行权限。
   Linux中，每种用户都有三种权限。

   权限 对文件的影响 对目录的影响

   r           （读取）      可读取文件内容 可浏览目录。
   w         （写入）       可修改文件内容 可删除、移动目录内文件。
   x          （执行）       可执行文件 可进入目录。

   一般权限：用“ls –l”命令可以显示文件的详细信息，其中包括权限。

   特殊权限：除了一般权限以外，还有所谓的特殊权限。用户若无特殊需求，不要启用这些权限，避免出现安全漏洞。

   权限              对文件的影响                                                               对目录的影响
   SUID  以文件的所属用户身份执行，而非执行文件的用户                      无
   SGID  以文件所属组身份执行。                                在该目录中创建的任意新文件的所属组与该目录所属组相同
   Sticky 无                       对目录拥有写入权限的用户仅可以删除其拥有的文件，无法删除其他用户所属的文件。

4.  (1)．文件管理器更改权限;

    (2).   文字设定法;

    通过文字设定法更改权限需要使用chmod命令，chmod的命令格式如下：
   chmod [ugoa][+-=][rwx][文件或目录名]

   (3).    数字设定法;

   文件和目录的权限表中用r，w及x这3个字符来为所有者、同组用户和其他用户设置权限。有时候，字符似乎过于麻烦，因此还有另外一种方法是以数字来表示权限，而且仅需3个数字。

   使用数字设定法更改文件权限，首先必须了解数字表示的含义：0表示没有权限，1表示可执行权限，2表示写入权限，4表示读取权限，然后将其相加。所以数字属性的格式应为3个0～7的8进制数，其顺序是（u），（g），（o）。



